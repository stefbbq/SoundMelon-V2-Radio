/*! perfect-scrollbar - v0.4.5
* http://noraesae.github.com/perfect-scrollbar/
* Copyright (c) 2013 HyeonJe Jun; Licensed MIT */
"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var r={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0};e.fn.perfectScrollbar=function(t,o){return this.each(function(){var l=e.extend(!0,{},r),n=e(this);if("object"==typeof t?e.extend(!0,l,t):o=t,"update"===o)return n.data("perfect-scrollbar-update")&&n.data("perfect-scrollbar-update")(),n;if("destroy"===o)return n.data("perfect-scrollbar-destroy")&&n.data("perfect-scrollbar-destroy")(),n;if(n.data("perfect-scrollbar"))return n.data("perfect-scrollbar");n.addClass("ps-container");var s,a,c,i,p,f,u,d,h,b,v=e("<div class='ps-scrollbar-x-rail'></div>").appendTo(n),m=e("<div class='ps-scrollbar-y-rail'></div>").appendTo(n),g=e("<div class='ps-scrollbar-x'></div>").appendTo(v),w=e("<div class='ps-scrollbar-y'></div>").appendTo(m),T=parseInt(v.css("bottom"),10),L=parseInt(m.css("right"),10),y=function(){var e=parseInt(b*(f-i)/(i-h),10);n.scrollTop(e),v.css({bottom:T-e})},D=function(){var e=parseInt(d*(p-c)/(c-u),10);n.scrollLeft(e),m.css({right:L-e})},I=function(e){return l.minScrollbarLength&&(e=Math.max(e,l.minScrollbarLength)),e},x=function(){v.css({left:n.scrollLeft(),bottom:T-n.scrollTop(),width:c}),m.css({top:n.scrollTop(),right:L-n.scrollLeft(),height:i}),g.css({left:d,width:u}),w.css({top:b,height:h})},S=function(){c=n.width(),i=n.height(),p=n.prop("scrollWidth"),f=n.prop("scrollHeight"),p>c?(s=!0,u=I(parseInt(c*c/p,10)),d=parseInt(n.scrollLeft()*(c-u)/(p-c),10)):(s=!1,u=0,d=0,n.scrollLeft(0)),f>i?(a=!0,h=I(parseInt(i*i/f,10)),b=parseInt(n.scrollTop()*(i-h)/(f-i),10)):(a=!1,h=0,b=0,n.scrollTop(0)),b>=i-h&&(b=i-h),d>=c-u&&(d=c-u),x()},C=function(e,r){var t=e+r,o=c-u;d=0>t?0:t>o?o:t,v.css({left:n.scrollLeft()}),g.css({left:d})},k=function(e,r){var t=e+r,o=i-h;b=0>t?0:t>o?o:t,m.css({top:n.scrollTop()}),w.css({top:b})},P=function(){var r,t;g.bind("mousedown.perfect-scrollbar",function(e){t=e.pageX,r=g.position().left,v.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove.perfect-scrollbar",function(e){v.hasClass("in-scrolling")&&(D(),C(r,e.pageX-t),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup.perfect-scrollbar",function(){v.hasClass("in-scrolling")&&v.removeClass("in-scrolling")}),r=t=null},X=function(){var r,t;w.bind("mousedown.perfect-scrollbar",function(e){t=e.pageY,r=w.position().top,m.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),e(document).bind("mousemove.perfect-scrollbar",function(e){m.hasClass("in-scrolling")&&(y(),k(r,e.pageY-t),e.stopPropagation(),e.preventDefault())}),e(document).bind("mouseup.perfect-scrollbar",function(){m.hasClass("in-scrolling")&&m.removeClass("in-scrolling")}),r=t=null},Y=function(){var e=function(e,r){var t=n.scrollTop();if(0===t&&r>0&&0===e)return!l.wheelPropagation;if(t>=f-i&&0>r&&0===e)return!l.wheelPropagation;var o=n.scrollLeft();return 0===o&&0>e&&0===r?!l.wheelPropagation:o>=p-c&&e>0&&0===r?!l.wheelPropagation:!0},r=!1;n.bind("mousewheel.perfect-scrollbar",function(t,o,c,i){l.useBothWheelAxes?a&&!s?i?n.scrollTop(n.scrollTop()-i*l.wheelSpeed):n.scrollTop(n.scrollTop()+c*l.wheelSpeed):s&&!a&&(c?n.scrollLeft(n.scrollLeft()+c*l.wheelSpeed):n.scrollLeft(n.scrollLeft()-i*l.wheelSpeed)):(n.scrollTop(n.scrollTop()-i*l.wheelSpeed),n.scrollLeft(n.scrollLeft()+c*l.wheelSpeed)),S(),r=e(c,i),r&&t.preventDefault()}),n.bind("MozMousePixelScroll.perfect-scrollbar",function(e){r&&e.preventDefault()})},E=function(){var r=function(e,r){var t=n.scrollTop();if(0===t&&r>0&&0===e)return!1;if(t>=f-i&&0>r&&0===e)return!1;var o=n.scrollLeft();return 0===o&&0>e&&0===r?!1:o>=p-c&&e>0&&0===r?!1:!0},t=!1;n.bind("mouseenter.perfect-scrollbar",function(){t=!0}),n.bind("mouseleave.perfect-scrollbar",function(){t=!1});var o=!1;e(document).bind("keydown.perfect-scrollbar",function(e){if(t){var s=0,a=0;switch(e.which){case 37:s=-3;break;case 38:a=3;break;case 39:s=3;break;case 40:a=-3;break;default:return}n.scrollTop(n.scrollTop()-a*l.wheelSpeed),n.scrollLeft(n.scrollLeft()+s*l.wheelSpeed),S(),o=r(s,a),o&&e.preventDefault()}})},M=function(){var e=function(e){e.stopPropagation()};w.bind("click.perfect-scrollbar",e),m.bind("click.perfect-scrollbar",function(e){var r=parseInt(h/2,10),t=e.pageY-m.offset().top-r,o=i-h,l=t/o;0>l?l=0:l>1&&(l=1),n.scrollTop((f-i)*l),S()}),g.bind("click.perfect-scrollbar",e),v.bind("click.perfect-scrollbar",function(e){var r=parseInt(u/2,10),t=e.pageX-v.offset().left-r,o=c-u,l=t/o;0>l?l=0:l>1&&(l=1),n.scrollLeft((p-c)*l),S()})},A=function(){var r=function(e,r){n.scrollTop(n.scrollTop()-r),n.scrollLeft(n.scrollLeft()-e),S()},t={},o=0,l={},s=null,a=!1;e(window).bind("touchstart.perfect-scrollbar",function(){a=!0}),e(window).bind("touchend.perfect-scrollbar",function(){a=!1}),n.bind("touchstart.perfect-scrollbar",function(e){var r=e.originalEvent.targetTouches[0];t.pageX=r.pageX,t.pageY=r.pageY,o=(new Date).getTime(),null!==s&&clearInterval(s),e.stopPropagation()}),n.bind("touchmove.perfect-scrollbar",function(e){if(!a&&1===e.originalEvent.targetTouches.length){var n=e.originalEvent.targetTouches[0],s={};s.pageX=n.pageX,s.pageY=n.pageY;var c=s.pageX-t.pageX,i=s.pageY-t.pageY;r(c,i),t=s;var p=(new Date).getTime();l.x=c/(p-o),l.y=i/(p-o),o=p,e.preventDefault()}}),n.bind("touchend.perfect-scrollbar",function(){clearInterval(s),s=setInterval(function(){return.01>Math.abs(l.x)&&.01>Math.abs(l.y)?(clearInterval(s),void 0):(r(30*l.x,30*l.y),l.x*=.8,l.y*=.8,void 0)},10)})},H=function(){n.unbind(".perfect-scrollbar"),e(window).unbind(".perfect-scrollbar"),e(document).unbind(".perfect-scrollbar"),n.data("perfect-scrollbar",null),n.data("perfect-scrollbar-update",null),n.data("perfect-scrollbar-destroy",null),g.remove(),w.remove(),v.remove(),m.remove(),g=w=c=i=p=f=u=d=T=h=b=L=null},j=function(r){n.addClass("ie").addClass("ie"+r);var t=function(){var r=function(){e(this).addClass("hover")},t=function(){e(this).removeClass("hover")};n.bind("mouseenter.perfect-scrollbar",r).bind("mouseleave.perfect-scrollbar",t),v.bind("mouseenter.perfect-scrollbar",r).bind("mouseleave.perfect-scrollbar",t),m.bind("mouseenter.perfect-scrollbar",r).bind("mouseleave.perfect-scrollbar",t),g.bind("mouseenter.perfect-scrollbar",r).bind("mouseleave.perfect-scrollbar",t),w.bind("mouseenter.perfect-scrollbar",r).bind("mouseleave.perfect-scrollbar",t)},o=function(){x=function(){g.css({left:d+n.scrollLeft(),bottom:T,width:u}),w.css({top:b+n.scrollTop(),right:L,height:h}),g.hide().show(),w.hide().show()},y=function(){var e=parseInt(b*f/i,10);n.scrollTop(e),g.css({bottom:T}),g.hide().show()},D=function(){var e=parseInt(d*p/c,10);n.scrollLeft(e),w.hide().show()}};6===r&&(t(),o())},O="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,W=function(){var e=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);e&&"msie"===e[1]&&j(parseInt(e[2],10)),S(),P(),X(),M(),O&&A(),n.mousewheel&&Y(),l.useKeyboard&&E(),n.data("perfect-scrollbar",n),n.data("perfect-scrollbar-update",S),n.data("perfect-scrollbar-destroy",H)};return W(),n})}}),function(e){function r(r){var t=r||window.event,o=[].slice.call(arguments,1),l=0,n=0,s=0;return r=e.event.fix(t),r.type="mousewheel",t.wheelDelta&&(l=t.wheelDelta/120),t.detail&&(l=-t.detail/3),s=l,void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS&&(s=0,n=-1*l),void 0!==t.wheelDeltaY&&(s=t.wheelDeltaY/120),void 0!==t.wheelDeltaX&&(n=-1*t.wheelDeltaX/120),o.unshift(r,l,n,s),(e.event.dispatch||e.event.handle).apply(this,o)}var t=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var o=t.length;o;)e.event.fixHooks[t[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],r,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);